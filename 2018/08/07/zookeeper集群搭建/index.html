<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>zookeeper集群搭建 | ArtIsLong的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Zookeeper集群搭建">
<meta name="keywords" content="zookeeper">
<meta property="og:type" content="article">
<meta property="og:title" content="zookeeper集群搭建">
<meta property="og:url" content="/2018/08/07/zookeeper集群搭建/index.html">
<meta property="og:site_name" content="ArtIsLong的博客">
<meta property="og:description" content="Zookeeper集群搭建">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-08-07T15:35:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zookeeper集群搭建">
<meta name="twitter:description" content="Zookeeper集群搭建">
  
    <link rel="alternate" href="/atom.xml" title="ArtIsLong的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value=""></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ArtIsLong的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">好的程序猿都是野路子</a>
        </h2>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-zookeeper集群搭建" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/07/zookeeper集群搭建/" class="article-date">
  <time datetime="2018-08-07T05:43:07.000Z" itemprop="datePublished">2018-08-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/中间件/">中间件</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      zookeeper集群搭建
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>本文的所有配置及集群的搭建，都是基于zookeeper-3.4.10的。<a id="more"></a></p>
<h3 id="zoo-cfg配置详解"><a href="#zoo-cfg配置详解" class="headerlink" title="zoo.cfg配置详解"></a>zoo.cfg配置详解</h3><table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>clientPort</td>
<td>客户端连接Server的端口，即对外服务端口，一般设置为2181</td>
</tr>
<tr>
<td>dataDir</td>
<td>存储快照文件snapshot的目录。默认情况下，事务日志也会存储在这里。建议同时配置参数dataLogDir，事务日志的写性能直接影响zk性能</td>
</tr>
<tr>
<td>tickTime</td>
<td>zk中的一个时间单元，zk中所有时间都是以这个时间单元为基础，进行整数倍配置的。例如，session的最小超时时间是2*tickTime</td>
</tr>
<tr>
<td>dataLogDir</td>
<td>事务日志输出目录。尽量给事务日志的输出配置单独的磁盘或是挂载点，这将极大的提升zk性能（No Java System Property）</td>
</tr>
<tr>
<td>globalOutstandingLimit</td>
<td>最大请求堆积数。默认是1000。zk运行的时候，尽管server已经没有空闲来处理更多的客户端请求了，但还是允许客户端将请求提交到服务器上来，以提高吞吐性能。当然，为了防止Server内存溢出，这个请求堆积数还是需要限制下的。(Java System Property:zookeeper.globalOutstandingLimit)</td>
</tr>
<tr>
<td>preAllocSize</td>
<td>预先开辟磁盘空间，用于后续写入事务日志。默认是64M，每个事务日志大小就是64M。如果zk的快照频率较大的话，建议适当减小这个参数。（Java System Property:zookeeper.preAllocSize）</td>
</tr>
<tr>
<td>snapCount</td>
<td>每进行snapCount次事务日志输出后，出发一次快照(snapshot)，此时，zk会生成一个snapshot.<em>文件，同时创建一个新的事务日志文件log.\</em>。默认是100000.(真正的代码实现中，会进行一定的随机数处理，以避免所有服务器在同一时间进行快照而影响性能)。(Java System Property:zookeeper.snapCount)</td>
</tr>
<tr>
<td>traceFile</td>
<td>用于记录所有请求的log，一般调试过程中可以使用，但是生产环境不建议使用，会严重影响性能。(Java System Property:zookeeper.requestTraceFile)</td>
</tr>
<tr>
<td>maxClientCnxns</td>
<td>单个客户端与单台服务器之间的连接数的限制，是IP级别的，默认是60，如果设置为0，那么表明不作任何限制。请注意这个限制的使用范围，仅仅是单台客户端机器与单台zk服务器直接的连接数限制，不是针对指定客户端IP，也不是zk集群的连接数限制，也不是单台zk对所有客户端的连接数限制。</td>
</tr>
<tr>
<td>clientPortAddress</td>
<td>对于多网卡的机器，可以为每个IP指定不同的监听端口。默认情况是所有IP都监听clientPort指定的端口。</td>
</tr>
<tr>
<td>minSessionTimeoutmaxSessionTimeout</td>
<td>Session超时时间限制，如果客户端设置的超时时间不在这个范围，那么会被强制设置为最大或最小时间。默认的Session超时时间是在2*tickTime~20*tickTime这个范文</td>
</tr>
<tr>
<td>fsync.warningthresholdms</td>
<td>事务日志输出时，如果调用fsync方法超过指定的超时时间，那么会在日志中输出警告信息。默认是1000ms。( Java system property: fsync.warningthresholdms)</td>
</tr>
<tr>
<td>autopurge.purgeInterval</td>
<td>在上文中已经提到，3.4.0及之后版本，ZK提供了自动清理事务日志和快照文件的功能，这个参数指定了清理频率，单位是小时，需要配置一个1或更大的整数，默认是0，表示不开启自动清理功能。(No Java system property)</td>
</tr>
<tr>
<td>autopurge.snapRetainCount</td>
<td>这个参数和上面的参数搭配使用，这个参数指定了需要保留的文件数目。默认是保留3个。(No Java system property)</td>
</tr>
<tr>
<td>electionAlg</td>
<td>在之前的版本中， 这个参数配置是允许我们选择leader选举<a href="http://lib.csdn.net/base/31" target="_blank" rel="noopener">算法</a>，但是由于在以后的版本中，只会留下一种“TCP-based version of fast leader election”算法，所以这个参数目前看来没有用了，这里也不详细展开说了。(No Java system property)</td>
</tr>
<tr>
<td>initLimit</td>
<td>Follower在启动过程中，会从Leader同步所有最新数据，然后确定自己能够对外服务的起始状态。Leader允许F在 <strong>initLimit</strong> 时间内完成这个工作。通常情况下，我们不用太在意这个参数的设置。如果ZK集群的数据量确实很大了，F在启动的时候，从Leader上同步数据的时间也会相应变长，因此在这种情况下，有必要适当调大这个参数了。(No Java system property)</td>
</tr>
<tr>
<td>syncLimit</td>
<td>在运行过程中，Leader负责与ZK集群中所有机器进行通信，例如通过一些心跳检测机制，来检测机器的存活状态。如果L发出心跳包在syncLimit之后，还没有从F那里收到响应，那么就认为这个F已经不在线了。注意：不要把这个参数设置得过大，否则可能会掩盖一些问题。(No Java system property)</td>
</tr>
<tr>
<td>leaderServes</td>
<td>默认情况下，Leader是会接受客户端连接，并提供正常的读写服务。但是，如果你想让Leader专注于集群中机器的协调，那么可以将这个参数设置为no，这样一来，会大大提高写操作的性能。(Java system property: zookeeper.leaderServes)</td>
</tr>
<tr>
<td>server.x=[hostname]:nnnnn[:nnnnn]</td>
<td>这里的x是一个数字，与myid文件中的id是一致的。右边可以配置两个端口，第一个端口用于F和L之间的数据同步和其它通信，第二个端口用于Leader选举过程中投票通信。   (No Java system property)</td>
</tr>
<tr>
<td>group.x=nnnnn[:nnnnn]weight.x=nnnnn</td>
<td>对机器分组和权重设置，可以  <a href="http://zookeeper.apache.org/doc/r3.4.3/zookeeperHierarchicalQuorums.html" target="_blank" rel="noopener">参见这里</a>(No Java system property)</td>
</tr>
<tr>
<td>cnxTimeout</td>
<td>Leader选举过程中，打开一次连接的超时时间，默认是5s。(Java system property: zookeeper.cnxTimeout)</td>
</tr>
<tr>
<td>zookeeper.DigestAuthenticationProvider.superDigest</td>
<td>ZK权限设置相关，具体参见  <a href="http://nileader.blog.51cto.com/1381108/930635" target="_blank" rel="noopener">《  <strong>使用super</strong>  <strong>身份对有权限的节点进行操作</strong> 》 </a> 和  <a href="http://nileader.blog.51cto.com/1381108/795525" target="_blank" rel="noopener">《 <strong>ZooKeeper</strong>   <strong>权限控制</strong> 》</a></td>
</tr>
<tr>
<td>skipACL</td>
<td>对所有客户端请求都不作ACL检查。如果之前节点上设置有权限限制，一旦服务器上打开这个开头，那么也将失效。(Java system property: zookeeper.skipACL)</td>
</tr>
<tr>
<td>forceSync</td>
<td>这个参数确定了是否需要在事务日志提交的时候调用 <a href="http://rdc.taobao.com/team/%5C/java%5C/jdk1.6.0_22%5C/jre%5C/lib%5C/rt.jar%3Cjava.nio.channels(FileChannel.class%E2%98%83FileChannel" target="_blank" rel="noopener">FileChannel </a>.force来保证数据完全同步到磁盘。(Java system property:zookeeper.forceSync)</td>
</tr>
<tr>
<td>jute.maxbuffer</td>
<td>每个节点最<a href="http://lib.csdn.net/base/20" target="_blank" rel="noopener">大数据</a>量，是默认是1M。这个限制必须在server和client端都进行设置才会生效。(Java system property:jute.maxbuffer)</td>
</tr>
</tbody>
</table>
<h3 id="zoo-cfg配置要求"><a href="#zoo-cfg配置要求" class="headerlink" title="zoo.cfg配置要求"></a>zoo.cfg配置要求</h3><table><br><tr><br><td>类型</td><br><td>配置项</td><br><td>描述</td><br></tr><br><tr><br><td rowspan="3">最低配置</td><br><td>clientPort</td><br><td>监听客户端连接的端口，默认值为2181</td><br></tr><br><tr><br><td>dataDir</td><br><td>存储持久数据的本地文件系统位置</td><br></tr><br><tr><br><td>tickTime</td><br><td>基本事件单元，以毫秒为单位，用来控制心跳和超时，默认情况下超时时间为两倍的tickTime</td><br></tr><br><tr><br><td rowspan="3">高级配置</td><br><td>dataLogDir</td><br><td>事件日志写入的目录</td><br></tr><br><tr><br><td>maxClientCnxns</td><br><td>限制连接到Zookeeper的客户端数量，并且限制并发连接数量，它通过ip区分不同的客户端</td><br></tr><br><tr><br><td>minSessionTimeout与maxSessionTimeout</td><br><td>最小会话超时时间和最大的会话超时时间，在默认情况下，最小的会话超时时间为两倍的tickTime时间，最大的会话超时时间为20倍的会话超时时间，系统启动时会显示相应的信息。默认为-1</td><br></tr><br><tr><br><td rowspan="3">集群配置</td><br><td>initLimit</td><br><td>参数设定了允许所有Follower与Leader进行连接并同步的时间，如果在设定的时间段内，半数以上的Follower未能完成同步，Leader便会宣布放弃领导地位，进行另一次的Leader选举。如果zk集群环境数量确实很大，同步数据的时间会很变长，因此这种情况下可以适当调大该参数。默认为10</td><br></tr><br><tr><br><td>syncLimit</td><br><td>参数设定了允许一个Follower与一个Leader进行同步的时间，如果在设定的时间段内，Follower未完成同步，它将会被集群丢弃。所有连接到这个Follower的客户端将连接到另外一个Follower</td><br></tr><br><tr><br><td>server.A=B:C:D</td><br><td>其中A是一个数字，表示这个是第几号服务器；B是这个服务器的IP地址或者主机名称；C表示的是Follower与Leader交换信息的端口，默认值为2888；D表示的是Leader选举端口，默认值为3888</td><br></tr><br></table>

<h3 id="集群搭建"><a href="#集群搭建" class="headerlink" title="集群搭建"></a>集群搭建</h3><h4 id="软件准备"><a href="#软件准备" class="headerlink" title="软件准备"></a>软件准备</h4><p>由于zookeeper是基于Java开发的，所以需要Java环境，需要的童鞋，请自行百度，安装Java环境</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//ftp.mirror.tw/pub/apache/zookeeper/zookeeper-3.4.10/zookeeper-3.4.10.tar.gz</span></span><br><span class="line">tar -zxvf zookeeper-<span class="number">3.4</span>.<span class="number">10</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br><span class="line">cd zookeeper-<span class="number">3.4</span>.<span class="number">10</span>/conf</span><br><span class="line">mv zoo_sample.cfg</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong> zookeeper默认配置文件为zoo_sample.cfg，需要自定义配置时，需要将此配置文件修改为zoo.cfg，注意，zoo.cfg和zoo_sample.cfg文件不能同时存在</p>
<h4 id="集群配置"><a href="#集群配置" class="headerlink" title="集群配置"></a>集群配置</h4><ul>
<li>zoo.cfg<br>对此配置文件的配置项不做解释，每项具体含义，上面都有详细解释，读者可自行查阅<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">tickTime</span>=2000</span><br><span class="line"><span class="attribute">initLimit</span>=10</span><br><span class="line"><span class="attribute">syncLimit</span>=5</span><br><span class="line"><span class="attribute">dataDir</span>=/home/zk/zookeeper-3.4.10/data/</span><br><span class="line"><span class="attribute">dataLogDir</span>=/home/zk/zookeeper-3.4.10/logs/</span><br><span class="line"><span class="attribute">clientPort</span>=2181</span><br><span class="line">autopurge.<span class="attribute">snapRetainCount</span>=500</span><br><span class="line">autopurge.<span class="attribute">purgeInterval</span>=24</span><br><span class="line">server.<span class="attribute">1</span>=192.168.11.12:2888:3888</span><br><span class="line">server.<span class="attribute">2</span>=192.168.11.13:2888:3888</span><br><span class="line">server.<span class="attribute">3</span>=192.168.11.14:2888:3888</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>然后将配置文件同步到其他两台服务器上。<br>推荐使用scp命令，如：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp /home/zk/zookeeper-<span class="number">3.4</span>.<span class="number">10</span>/conf/zoo.cfg zk<span class="variable">@192</span>.<span class="number">168.11</span>.<span class="number">12</span><span class="symbol">:/home/zk/zookeeper-</span><span class="number">3.4</span>.<span class="number">10</span>/conf</span><br></pre></td></tr></table></figure>
<ul>
<li>创建ServerID标识（敲黑板了，此处是重点）</li>
</ul>
<p>在192.168.11.12服务器的/home/zk/zookeeper-3.4.10/data目录下，新建myid文件，输入1；<br>其他服务器上类似，myid与server.x=192.168.11.12:2888:3888的x匹配。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"1"</span> &gt; <span class="regexp">/home/</span>zk<span class="regexp">/zookeeper-3.4.10/</span>data<span class="regexp">/myid</span></span><br></pre></td></tr></table></figure>
<h4 id="启动集群"><a href="#启动集群" class="headerlink" title="启动集群"></a>启动集群</h4><p>在三台服务器上执行以下命令。</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sh </span>zkServer.<span class="keyword">sh </span>start</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong><br>  启动zookeeper常见问题有以下几点：</p>
<ul>
<li>启动第一台zk节点时，查看日志，可以看见有异常，因为其他节点未启动，zk检查线程未找到zk集群的其他节点，所以报错。将其他节点起起来即可。</li>
<li>节点启动成功，但是不能正常连接，请开发zk集群涉及到的防火墙端口</li>
<li>启动节点报错，极有可能是zoo.cfg配置文件配置有误，请检查配置文件配置项是否正确</li>
<li>其他问题请自行百度（解决问题是一个程序员最基本的能力）</li>
</ul>
<p>如果一些童鞋的服务器或虚拟机资源不足，可使用zookeeper的伪集群方式部署，思路：通过在同一台机器上，启动不同端口的zookeeper，即可构成集群，此处就不再累述了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="/2018/08/07/zookeeper集群搭建/" data-id="cjkjvzgul00169gzbdah77ud5" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/zookeeper/">zookeeper</a></li></ul>

    </footer>
  </div>
  
    
 <script src="/jquery/jquery.min.js"></script>
  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2018/08/07/storm集群搭建/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          storm集群搭建
        
      </div>
    </a>
  
  
    <a href="/2018/02/08/redis系统学习/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">redis常用配置</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
           <div id="uyan_frame"></div>
    
      
           <div id="gitment_comments"></div>
    
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    

  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#zoo-cfg配置详解"><span class="toc-number">1.</span> <span class="toc-text">zoo.cfg配置详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zoo-cfg配置要求"><span class="toc-number">2.</span> <span class="toc-text">zoo.cfg配置要求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#集群搭建"><span class="toc-number">3.</span> <span class="toc-text">集群搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#软件准备"><span class="toc-number">3.1.</span> <span class="toc-text">软件准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#集群配置"><span class="toc-number">3.2.</span> <span class="toc-text">集群配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#启动集群"><span class="toc-number">3.3.</span> <span class="toc-text">启动集群</span></a></li></ol></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
    
  
    <!--微信公众号二维码-->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2018 ArtIsLong的博客&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;799418876@qq.com
    </div>
  </div>
</footer>
 <script src="/jquery/jquery.min.js"></script>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      





 <script  type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=http://v2.uyan.cc/code/uyan.js?uid=2160660"></script>



<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script> 
  <script>
  var gitment = new Gitment({
    // id: '页面 ID', // 可选。默认为 location.href
    owner: 'artislong',
    repo: 'artislong.github.io',
    oauth: {
    client_id: 'ec5670e84a08dfda91f4',
    client_secret: '3178f788eff4e6684b307a8ab886ff6b8ff236db',
    }
  })
  gitment.render(document.getElementById("gitment_comments"))
</script>


<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 <script src="/js/is.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/elevator.js"></script>
  </div>
</body>
</html>
